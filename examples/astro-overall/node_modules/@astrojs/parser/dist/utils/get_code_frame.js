var __defProp = Object.defineProperty;
var __markAsModule = (target) => __defProp(target, "__esModule", {value: true});
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, {get: all[name], enumerable: true});
};

// src/utils/get_code_frame.ts
__markAsModule(exports);
__export(exports, {
  default: () => get_code_frame
});
function tabs_to_spaces(str) {
  return str.replace(/^\t+/, (match) => match.split("	").join("  "));
}
function get_code_frame(source, line, column) {
  const lines = source.split("\n");
  const frame_start = Math.max(0, line - 2);
  const frame_end = Math.min(line + 3, lines.length);
  const digits = String(frame_end + 1).length;
  return lines.slice(frame_start, frame_end).map((str, i) => {
    const isErrorLine = frame_start + i === line;
    const line_num = String(i + frame_start + 1).padStart(digits, " ");
    if (isErrorLine) {
      const indicator = " ".repeat(digits + 2 + tabs_to_spaces(str.slice(0, column)).length) + "^";
      return `${line_num}: ${tabs_to_spaces(str)}
${indicator}`;
    }
    return `${line_num}: ${tabs_to_spaces(str)}`;
  }).join("\n");
}
// Annotate the CommonJS export names for ESM import in node:
0 && (module.exports = {});
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vc3JjL3V0aWxzL2dldF9jb2RlX2ZyYW1lLnRzIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBLHdCQUF3QixLQUFhO0FBQ25DLFNBQU8sSUFBSSxRQUFRLFFBQVEsQ0FBQyxVQUFVLE1BQU0sTUFBTSxLQUFNLEtBQUs7QUFBQTtBQUloRCx3QkFBd0IsUUFBZ0IsTUFBYyxRQUFnQjtBQUNuRixRQUFNLFFBQVEsT0FBTyxNQUFNO0FBRTNCLFFBQU0sY0FBYyxLQUFLLElBQUksR0FBRyxPQUFPO0FBQ3ZDLFFBQU0sWUFBWSxLQUFLLElBQUksT0FBTyxHQUFHLE1BQU07QUFFM0MsUUFBTSxTQUFTLE9BQU8sWUFBWSxHQUFHO0FBRXJDLFNBQU8sTUFDSixNQUFNLGFBQWEsV0FDbkIsSUFBSSxDQUFDLEtBQUssTUFBTTtBQUNmLFVBQU0sY0FBYyxjQUFjLE1BQU07QUFDeEMsVUFBTSxXQUFXLE9BQU8sSUFBSSxjQUFjLEdBQUcsU0FBUyxRQUFRO0FBRTlELFFBQUksYUFBYTtBQUNmLFlBQU0sWUFBWSxJQUFJLE9BQU8sU0FBUyxJQUFJLGVBQWUsSUFBSSxNQUFNLEdBQUcsU0FBUyxVQUFVO0FBQ3pGLGFBQU8sR0FBRyxhQUFhLGVBQWU7QUFBQSxFQUFTO0FBQUE7QUFHakQsV0FBTyxHQUFHLGFBQWEsZUFBZTtBQUFBLEtBRXZDLEtBQUs7QUFBQTsiLAogICJuYW1lcyI6IFtdCn0K
